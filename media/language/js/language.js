if(!window.fj){window.fj={};}
window.fj.languageManager={showTips:function(){$(".fj-language-box").css("display","flex");},hideTips:function(){$(".fj-language-box").css("display","none");},};$(document).on("click",".fj-language-box .current",function(){$(".fj-language-box .selecter .items").toggle();});$(document).on("click",".fj-language-box .close",function(){localStorage.setItem("fj_language_tip_show",1);window.fj.languageManager.hideTips();});$(document).on("click",function(e){if($(e.target).parents(".fj-language-box").length===0){$(".fj-language-box .selecter .items").hide();}});$(document).on("click",".fj-language-box .selecter .item",function(){lang=$(this).text();tag=$(this).attr("tag");link=$(this).attr("link");$(".fj-language-box .current .text").text(lang);$(".fj-language-box .current .text").attr("tag",tag);$(".fj-language-box .current .text").attr("link",link);$(".fj-language-box .selecter .items").hide();});$(document).on("click",".fj-language-box .lang_continue",function(){link=$(".fj-language-box .current .text").attr("link");localStorage.setItem("fj_language_tip_show",1);location.href=link;});function getLanguageFromUrl(){var url=window.location.href;var language=url.split("/")[3];switch(language){case "cn":language="cn";break;case "tw":language="tw";break;case "jp":language="jp";break;case "de":language="de";break;case "fr":language="fr";break;case "es":language="es";break;case "pt":language="pt";break;case "it":language="it";break;default:language="en";break;}
return language;}
const localLanguage=getLanguageFromUrl();let showLanguageTip=localStorage.getItem("fj_language_tip_show");if(showLanguageTip==null){const language=navigator.language;let lang="";if(language==="zh-CN"){lang="cn";}else if(language==="zh-TW"){lang="tw";}else if(language==="ja"){lang="jp";}else if(language.includes("de")){lang="de";}else if(language.includes("fr")){lang="fr";}else if(language.includes("es")){lang="es";}else if(language.includes("pt")){lang="pt";}else if(language.includes("en")){lang="en";}else{lang="other";}
console.log(lang,"browser");console.log(localLanguage,"server");if(lang!=="other"&&lang!==localLanguage){const tipData=window.fj.tipData;const link=window.fj.routerAll["current"][lang];$(".fj-language-box .current .text").text(tipData[lang]["lang"]).attr("link",link);$(".fj-language-box .tips .tips_desc").text(tipData[lang]["desc"]);$(".fj-language-box .lang_continue").text(tipData[lang]["continue"]);window.fj.languageManager.showTips();}}